<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>QuickCut</title>
  <link rel="stylesheet" href="tools-css/quickcut.css" />
  <script src="../libs/ffmpeg.min.js"></script>
</head>
<body>
  <div class="editor-wrapper">
    <div class="top-container">
      <aside class="sidebar">
        <h2>üé¨ QuickCut</h2>
        <input type="file" id="videoInput" accept="video/*" />
        <div class="duration" id="durationInfo"></div>

        <div class="button-row">
          <button id="openExportModalBtn">üì§ Export</button>
          <button id="cancelBtn" disabled>‚úñ Cancel</button>
        </div>

        <progress id="progressBar" value="0" max="100"></progress>
        <div id="progressText"></div>
      </aside>

      <main class="video-area">
        <div class="video-container">
          <video id="videoPreview" muted></video>
        </div>

        <div class="video-controls">
          <button id="rewindBtn" title="Rewind 5 seconds" aria-label="Rewind 5 seconds"></button>
          <button id="playPauseBtn" title="Play/Pause">‚ñ∂Ô∏è</button>
          <button id="forwardBtn" title="Forward 5 seconds" aria-label="Forward 5 seconds"></button>
          <button id="muteToggleBtn" title="Mute/Unmute">üîà</button>

          <input type="range" id="volumeSlider" min="0" max="1" step="0.01" value="1" title="Volume" />

          <span id="currentTime">0:00</span> / <span id="totalDuration">0:00</span>

          <label class="preview-resolution-label">
            Preview Resolution:
            <select id="previewResolution">
              <option value="original">Original</option>
              <option value="1920x1080">1080p</option>
              <option value="1280x720">720p</option>
              <option value="854x480">480p</option>
            </select>
          </label>
        </div>

        <input type="range" id="videoProgress" min="0" max="100" step="0.1" value="0" title="Video progress" />
      </main>
    </div>

    <div class="timeline-container">
      <div id="timeline" class="timeline-track">
        <!-- Clip block representing trimmed segment -->
        <div id="clip" class="clip">
          <!-- Left trim handle -->
          <div id="handle-left" class="handle-left" title="Trim start"></div>

          <!-- Right trim handle -->
          <div id="handle-right" class="handle-right" title="Trim end"></div>

          <!-- Volume control knob -->
          <div id="volume-knob" class="volume-knob" title="Drag to adjust volume"></div>
        </div>
      </div>

      <div class="timeline-bar">
        <label>Start (mm:ss): <input type="text" id="startTime" value="0:00" pattern="^\d+:\d{2}$" /></label>
        <label>End (mm:ss): <input type="text" id="endTime" value="0:10" pattern="^\d+:\d{2}$" /></label>
      </div>
    </div>
  </div>

  <!-- Export Settings Modal -->
  <div id="exportModal" class="modal hidden">
    <div class="modal-content">
      <h3>‚öôÔ∏è Export Settings</h3>

      <label for="resolutionSelect">Resolution:</label>
      <select id="resolutionSelect">
        <option value="original">Original</option>
        <option value="2560:1440">1440p</option>
        <option value="1920:1080">1080p</option>
        <option value="1280:720">720p</option>
      </select>

      <label for="qualitySelect">Quality:</label>
      <select id="qualitySelect">
        <option value="ultrafast-28">Ultra Fast</option>
        <option value="superfast-26">Super Fast</option>
        <option value="veryfast-24">Very Fast</option>
        <option value="fast-22">Fast</option>
        <option value="medium-23" selected>Balanced</option>
        <option value="slow-18">Slow</option>
        <option value="veryslow-15">Very Slow</option>
      </select>

      <label for="audioBitrateSelect">Audio Bitrate:</label>
      <select id="audioBitrateSelect">
        <option value="64000">64 kbps</option>
        <option value="96000">96 kbps</option>
        <option value="128000" selected>128 kbps</option>
        <option value="192000">192 kbps</option>
        <option value="256000">256 kbps</option>
      </select>

      <div class="modal-buttons">
        <button id="confirmExportBtn">‚úÖ Confirm Export</button>
        <button id="closeExportModalBtn">‚ùå Cancel</button>
      </div>
    </div>
  </div>

  <script type="module" src="tools-js/quickcut.js"></script>
</body>
</html>